"use strict";(self.webpackChunkintelinvest=self.webpackChunkintelinvest||[]).push([[30],{30:function(e,t,a){a.r(t),a.d(t,{default:function(){return O}});var n=a(4165),r=a(4942),i=a(1413),c=a(5861),s=a(9439),l=a(2791),o=a(9434),d=a(8913),u=a(488),x="ChartWrapper_chartWrapper__container__58pOl",h=a(3329),p=function(e){var t=e.children;return(0,h.jsx)("div",{className:x,children:t})},f="AnalyticsDashboard_analyticsDashboard__gJ1BH",j="AnalyticsDashboard_analyticsDashboard__title__I7g4G",v="AnalyticsDashboard_analyticsDashboard__value__8o8BS",y=function(){var e=(0,l.useState)({}),t=(0,s.Z)(e,2),a=t[0],x=t[1],y=(0,o.v9)((function(e){return e.stocks.stocks})),m=(0,o.v9)(d.mh),g=(0,o.v9)((function(e){return e.selectedCurrency.value})),_=g||"USD",b=(0,o.I0)(),k=(0,l.useMemo)((function(){return{USD:"$",EUR:"\u20ac",GBP:"\xa3",UAH:"\u20b4"}}),[]),F=(0,l.useCallback)(function(){var e=(0,c.Z)((0,n.Z)().mark((function e(t){var a,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b((0,u.S)(t));case 3:a=e.sent,null!==(c=a.payload)&&x((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},t,c))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error getting stock price for ".concat(t,":"),e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[b,x]);(0,l.useEffect)((function(){y.forEach((function(e){var t=e.name;F(t)}))}),[y,F]);var P=(0,l.useCallback)((function(e,t,n){var r=(n*t).toFixed(2),i=void 0!==a[e]?a[e]:0,c=(n*i).toFixed(2),s=(c-r).toFixed(2);return{totalPositionValue:r,currentStockPrice:i,currentTotalPositionValue:c,profitability:s,profitabilityPercentage:(s/r*100).toFixed(2)}}),[a]),A=(0,l.useCallback)((function(){var e=0,t=0,a=0,n={name:"",percentage:0};y.forEach((function(r){var i=r.name,c=r.price,s=r.quantity,l=P(i,c,s),o=l.totalPositionValue,d=l.currentTotalPositionValue,u=l.profitability,x=l.profitabilityPercentage;e+=parseFloat(d),t+=parseFloat(u),a+=parseFloat(o),parseFloat(x)>n.percentage&&(n={name:i,percentage:parseFloat(x)})}));var r=(t/a*100).toFixed(2);return{totalCurrentValue:e,totalProfitability:t,totalProfitabilityPercentage:r,bestStock:n}}),[y,P]),C=A(),N=C.totalCurrentValue,M=C.totalProfitability,w=C.totalProfitabilityPercentage,E=C.bestStock;return(0,h.jsxs)("div",{className:f,children:[(0,h.jsx)(p,{children:(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:j,children:"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c \u043f\u043e\u0440\u0442\u0444\u0435\u043b\u044e"}),(0,h.jsxs)("p",{className:v,children:[(N*m).toFixed(2),k[_]]})]})}),(0,h.jsx)(p,{children:(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:j,children:"\u0421\u0443\u043c\u0430\u0440\u043d\u0438\u0439 \u043f\u0440\u0438\u0431\u0443\u0442\u043e\u043a"}),(0,h.jsxs)("p",{className:v,children:[(M*m).toFixed(2),k[_]]})]})}),(0,h.jsx)(p,{children:(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:j,children:"\u0414\u043e\u0445\u0456\u0434\u043d\u0456\u0441\u0442\u044c"}),(0,h.jsxs)("p",{className:v,children:[w,"%"]})]})}),(0,h.jsx)(p,{children:(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:j,children:"\u041a\u0440\u0430\u0449\u0438\u0439 \u0430\u043a\u0442\u0438\u0432"}),(0,h.jsxs)("p",{className:v,children:[E.name,": ",E.percentage,"%"]})]})})]})},m=a(2972),g=a(6295),_=a(601),b=a(3909),k=a(1041),F=a(1048),P=a(3672),A=a(3482),C=a(6273),N="PieChartExample_pieChart__wrapper__FKwjq",M="PieChartExample_title__ukaPr",w=function(){var e=(0,l.useState)(null),t=(0,s.Z)(e,2),a=t[0],n=t[1],r=(0,o.I0)();(0,l.useEffect)((function(){r((0,m.AL)())}),[r]);var i=(0,o.v9)((function(e){return e.stocks.stocks})),c=i.reduce((function(e,t){return e+t.price*t.quantity}),0),d=i.map((function(e){return{name:e.name,value:e.price*e.quantity/c}})),u=(0,A.Z)(C.Z);return(0,h.jsxs)("div",{className:N,children:[(0,h.jsx)("h3",{className:M,children:"\u0421\u043a\u043b\u0430\u0434 \u043f\u043e\u0440\u0442\u0444\u0435\u043b\u044e \u043f\u043e \u0431\u0443\u043c\u0430\u0433\u0430\u043c"}),(0,h.jsx)(_.h,{width:"100%",height:"100%",children:(0,h.jsxs)(b.u,{children:[(0,h.jsx)(k.b,{data:d,labelLine:!1,innerRadius:60,outerRadius:100,fill:"#8884d8",dataKey:"value",activeIndex:a,activeShape:function(e){return function(e){var t=Math.PI/180,a=e.cx,n=e.cy,r=e.midAngle,i=e.innerRadius,s=e.outerRadius,l=e.startAngle,o=e.endAngle,d=e.fill,u=e.payload,x=e.percent,p=e.value,f=Math.sin(-t*r),j=Math.cos(-t*r),v=a+(s+10)*j,y=n+(s+10)*f,m=a+(s+30)*j,_=n+(s+30)*f,b=m+22*(j>=0?1:-1),k=_,F=j>=0?"start":"end";return(0,h.jsxs)("g",{children:[(0,h.jsx)("text",{x:a,y:n,dy:8,textAnchor:"middle",fill:d,children:u.name}),(0,h.jsx)(g.L,{cx:a,cy:n,innerRadius:i,outerRadius:s,startAngle:l,endAngle:o,fill:d}),(0,h.jsx)(g.L,{cx:a,cy:n,startAngle:l,endAngle:o,innerRadius:s+6,outerRadius:s+10,fill:d}),(0,h.jsx)("path",{d:"M".concat(v,",").concat(y,"L").concat(m,",").concat(_,"L").concat(b,",").concat(k),stroke:d,fill:"none"}),(0,h.jsx)("circle",{cx:b,cy:k,r:2,fill:d,stroke:"none"}),(0,h.jsx)("text",{x:b+12*(j>=0?1:-1),y:k,textAnchor:F,fill:"#333",children:"PV ".concat((100*x).toFixed(2),"%")}),(0,h.jsxs)("text",{x:b+12*(j>=0?1:-1),y:k,textAnchor:F,fill:d,children:[(0,h.jsx)("tspan",{children:"".concat((100*p).toFixed(0),"%")}),(0,h.jsx)("tspan",{x:b+12*(j>=0?1:-1),dy:18,children:"$".concat((p*c).toFixed(2))})]})]})}(e)},onMouseEnter:function(e,t){return n(t)},onMouseLeave:function(){return n(null)},children:d.map((function(e,t){return(0,h.jsx)(F.b,{fill:u(t)},"cell-".concat(t))}))}),(0,h.jsx)(P.D,{content:function(e){var t=e.payload;return(0,h.jsx)("div",{children:t.map((function(e,t){return(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px",color:"#fff"},children:[(0,h.jsx)("div",{style:{width:"10px",height:"10px",backgroundColor:e.color,marginRight:"10px"}}),"".concat(e.value," ").concat((100*e.payload.value).toFixed(0),"%")]},"legend-item-".concat(t))}))})},align:"right",verticalAlign:"middle",layout:"vertical",wrapperStyle:{paddingRight:"200px"}})]})})]})},E=a(3433),L=a(8265),R=a(8602),S=a(466),Z=a(2891),B=a(5201),D=a(2839),K="AreaChartExample_title__2pMJg";function q(e){var t=e.data,a=Math.ceil(Math.max.apply(Math,(0,E.Z)(t.map((function(e){return parseFloat(e.price)})))));return(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{className:K,children:"\u0414\u0438\u043d\u0430\u043c\u0456\u043a\u0430 \u043f\u043e \u0431\u0443\u043c\u0430\u0433\u0430\u043c"}),(0,h.jsx)(_.h,{width:"100%",height:400,children:(0,h.jsxs)(L.T,{data:t,margin:{top:20,right:20,left:20,bottom:20},children:[(0,h.jsx)("defs",{children:(0,h.jsxs)("linearGradient",{id:"color",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,h.jsx)("stop",{offset:"0%",stopColor:"#2451B7",stopOpacity:.4}),(0,h.jsx)("stop",{offset:"75%",stopColor:"#2451B7",stopOpacity:.05})]})}),(0,h.jsx)(R.u,{dataKey:"price",stroke:"#2451B7",fill:"url(#color)"}),(0,h.jsx)(S.K,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10}),(0,h.jsx)(Z.B,{dataKey:"price",axisLine:!1,tickLine:!1,tickCount:8,domain:[0,a],tickFormatter:function(e){return"$".concat(Math.ceil(e))},dx:-10}),(0,h.jsx)(B.u,{content:(0,h.jsx)(V,{})}),(0,h.jsx)(D.q,{opacity:.1,vertical:!1})]})})]})}function V(e){var t=e.active,a=e.payload,n=e.label;return t?(0,h.jsxs)("div",{className:"tooltip",children:[(0,h.jsx)("h4",{children:n}),(0,h.jsxs)("p",{children:["$",a[0].value]})]}):null}var I=a(8725),$=a(6710),U="BarChartExample_title__k1rqM",W=function(e){var t=e.data;return(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{className:U,children:"\u0421\u043a\u043b\u0430\u0434 \u043f\u043e\u0440\u0442\u0444\u0435\u043b\u044e \u043f\u043e \u0431\u0443\u043c\u0430\u0433\u0430\u043c"}),(0,h.jsx)(_.h,{width:"100%",height:300,children:(0,h.jsxs)(I.v,{data:t,children:[(0,h.jsx)(S.K,{dataKey:"name"}),(0,h.jsx)(Z.B,{}),(0,h.jsx)(B.u,{}),(0,h.jsx)($.$,{dataKey:"quantity",fill:"#8884d8"})]})})]})},G="AnalyticsDashboardWrapper_chartsWrapper__i833f",O=function(){var e=(0,o.v9)((function(e){return e.stocks.stocks}));return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(y,{}),(0,h.jsxs)("div",{className:G,children:[(0,h.jsx)(p,{children:(0,h.jsx)(w,{})}),(0,h.jsx)(p,{children:(0,h.jsx)(W,{data:e})})]}),(0,h.jsx)(p,{children:(0,h.jsx)(q,{data:e})})]})}}}]);
//# sourceMappingURL=30.af7c8909.chunk.js.map