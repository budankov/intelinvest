"use strict";(self.webpackChunkintelinvest=self.webpackChunkintelinvest||[]).push([[671],{4671:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var a=n(4165),r=n(4942),i=n(1413),c=n(5861),s=n(9439),l=n(2791),o=n(9434),u=n(8913),d=n(488),x="ChartWrapper_chartWrapper__container__58pOl",h=n(3329),p=function(e){var t=e.children;return(0,h.jsx)("div",{className:x,children:t})},f="AnalyticsDashboard_analyticsDashboard__gJ1BH",v="AnalyticsDashboard_analyticsDashboard__title__I7g4G",j="AnalyticsDashboard_analyticsDashboard__value__8o8BS",y=function(){var e=(0,l.useState)({}),t=(0,s.Z)(e,2),n=t[0],x=t[1],y=(0,o.v9)((function(e){return e.stocks.stocks})),m=(0,o.v9)(u.mh),g=(0,o.v9)((function(e){return e.selectedCurrency.value})),_=g||"USD",b=(0,o.I0)(),k=(0,l.useMemo)((function(){return{USD:"$",EUR:"\u20ac",GBP:"\xa3",UAH:"\u20b4"}}),[]),A=(0,l.useCallback)(function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var n,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b((0,d.S)(t));case 3:n=e.sent,null!==(c=n.payload)&&x((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},t,c))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error getting stock price for ".concat(t,":"),e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[b,x]);(0,l.useEffect)((function(){y.forEach((function(e){var t=e.name;A(t)}))}),[y,A]);var F=(0,l.useCallback)((function(e,t,a){var r=(a*t).toFixed(2),i=void 0!==n[e]?n[e]:0,c=(a*i).toFixed(2),s=(c-r).toFixed(2);return{totalPositionValue:r,currentStockPrice:i,currentTotalPositionValue:c,profitability:s,profitabilityPercentage:(s/r*100).toFixed(2)}}),[n]),P=(0,l.useCallback)((function(){var e=0,t=0,n=0,a={name:"",percentage:0};y.forEach((function(r){var i=r.name,c=r.price,s=r.quantity,l=F(i,c,s),o=l.totalPositionValue,u=l.currentTotalPositionValue,d=l.profitability,x=l.profitabilityPercentage;e+=parseFloat(u),t+=parseFloat(d),n+=parseFloat(o),parseFloat(x)>a.percentage&&(a={name:i,percentage:parseFloat(x)})}));var r=(t/n*100).toFixed(2);return{totalCurrentValue:e,totalProfitability:t,totalProfitabilityPercentage:r,bestStock:a}}),[y,F]),N=P(),C=N.totalCurrentValue,D=N.totalProfitability,R=N.totalProfitabilityPercentage,S=N.bestStock;return(0,h.jsxs)("div",{className:f,children:[(0,h.jsx)(p,{children:(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:v,children:"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c \u043f\u043e\u0440\u0442\u0444\u0435\u043b\u044e"}),(0,h.jsxs)("p",{className:j,children:[(C*m).toFixed(2),k[_]]})]})}),(0,h.jsx)(p,{children:(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:v,children:"\u0421\u0443\u043c\u0430\u0440\u043d\u0438\u0439 \u043f\u0440\u0438\u0431\u0443\u0442\u043e\u043a"}),(0,h.jsxs)("p",{className:j,children:[(D*m).toFixed(2),k[_]]})]})}),(0,h.jsx)(p,{children:(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:v,children:"\u0414\u043e\u0445\u0456\u0434\u043d\u0456\u0441\u0442\u044c"}),(0,h.jsxs)("p",{className:j,children:[R,"%"]})]})}),(0,h.jsx)(p,{children:(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:v,children:"\u041a\u0440\u0430\u0449\u0438\u0439 \u0430\u043a\u0442\u0438\u0432"}),(0,h.jsxs)("p",{className:j,children:[S.name,": ",S.percentage,"%"]})]})})]})},m=n(2972),g=n(6295),_=n(601),b=n(2600),k=n(5390),A=n(1048),F=n(3672),P=n(3482),N=n(6273),C="PieChartExample_pieChart__wrapper__FKwjq",D=function(){var e=(0,l.useState)(null),t=(0,s.Z)(e,2),n=t[0],a=t[1],r=(0,o.I0)();(0,l.useEffect)((function(){r((0,m.AL)())}),[r]);var i=(0,o.v9)((function(e){return e.stocks.stocks})),c=i.reduce((function(e,t){return e+t.price*t.quantity}),0),u=i.map((function(e){return{name:e.name,value:e.price*e.quantity/c}})),d=(0,P.Z)(N.Z);return(0,h.jsx)("div",{className:C,children:(0,h.jsx)(_.h,{width:"100%",height:"100%",children:(0,h.jsxs)(b.u,{children:[(0,h.jsx)(k.b,{data:u,labelLine:!1,innerRadius:60,outerRadius:100,fill:"#8884d8",dataKey:"value",activeIndex:n,activeShape:function(e){return function(e){var t=Math.PI/180,n=e.cx,a=e.cy,r=e.midAngle,i=e.innerRadius,s=e.outerRadius,l=e.startAngle,o=e.endAngle,u=e.fill,d=e.payload,x=e.percent,p=e.value,f=Math.sin(-t*r),v=Math.cos(-t*r),j=n+(s+10)*v,y=a+(s+10)*f,m=n+(s+30)*v,_=a+(s+30)*f,b=m+22*(v>=0?1:-1),k=_,A=v>=0?"start":"end";return(0,h.jsxs)("g",{children:[(0,h.jsx)("text",{x:n,y:a,dy:8,textAnchor:"middle",fill:u,children:d.name}),(0,h.jsx)(g.L,{cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:l,endAngle:o,fill:u}),(0,h.jsx)(g.L,{cx:n,cy:a,startAngle:l,endAngle:o,innerRadius:s+6,outerRadius:s+10,fill:u}),(0,h.jsx)("path",{d:"M".concat(j,",").concat(y,"L").concat(m,",").concat(_,"L").concat(b,",").concat(k),stroke:u,fill:"none"}),(0,h.jsx)("circle",{cx:b,cy:k,r:2,fill:u,stroke:"none"}),(0,h.jsx)("text",{x:b+12*(v>=0?1:-1),y:k,textAnchor:A,fill:"#333",children:"PV ".concat((100*x).toFixed(2),"%")}),(0,h.jsxs)("text",{x:b+12*(v>=0?1:-1),y:k,textAnchor:A,fill:u,children:[(0,h.jsx)("tspan",{children:"".concat((100*p).toFixed(0),"%")}),(0,h.jsx)("tspan",{x:b+12*(v>=0?1:-1),dy:18,children:"$".concat((p*c).toFixed(2))})]})]})}(e)},onMouseEnter:function(e,t){return a(t)},onMouseLeave:function(){return a(null)},children:u.map((function(e,t){return(0,h.jsx)(A.b,{fill:d(t)},"cell-".concat(t))}))}),(0,h.jsx)(F.D,{content:function(e){var t=e.payload;return(0,h.jsx)("div",{children:t.map((function(e,t){return(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px",color:"#fff"},children:[(0,h.jsx)("div",{style:{width:"10px",height:"10px",backgroundColor:e.color,marginRight:"10px"}}),"".concat(e.value," ").concat((100*e.payload.value).toFixed(0),"%")]},"legend-item-".concat(t))}))})},align:"right",verticalAlign:"middle",layout:"vertical",wrapperStyle:{paddingRight:"200px"}})]})})})},R="AnalyticsDashboardWrapper_chartsWrapper__i833f",S="AnalyticsDashboardWrapper_title__Ben3v",Z=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(y,{}),(0,h.jsxs)("div",{className:R,children:[(0,h.jsxs)(p,{children:[(0,h.jsx)("h3",{className:S,children:"\u0421\u043a\u043b\u0430\u0434 \u043f\u043e\u0440\u0442\u0444\u0435\u043b\u044e \u043f\u043e \u0431\u0443\u043c\u0430\u0433\u0430\u043c"}),(0,h.jsx)(D,{})]}),(0,h.jsxs)(p,{children:[(0,h.jsx)("h3",{className:S,children:"\u0421\u043a\u043b\u0430\u0434 \u043f\u043e\u0440\u0442\u0444\u0435\u043b\u044e \u043f\u043e \u0431\u0443\u043c\u0430\u0433\u0430\u043c"}),(0,h.jsx)(D,{})]})]})]})}}}]);
//# sourceMappingURL=671.23559584.chunk.js.map